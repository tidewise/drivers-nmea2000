#ifndef NMEA2000_PGNS_HPP
#define NMEA2000_PGNS_HPP

#include <nmea2000/Message.hpp>

namespace nmea2000 {
    namespace pgns {
<%      definitions.each do |pgn| %>
<%      struct_name = Codegen.pgn_name_to_cxx(pgn.name) %>
        struct <%= struct_name %> {
            static const int BYTE_LENGTH = <%= pgn.byte_length %>;
            static const int ID = <%= pgn.id %>;

            <%= struct_name %> fromMessage(Message const& message);

<%          Codegen.pgn_enums_to_cxx(pgn).each do |enum_name, enum_fields| %>
            enum <%= enum_name %> {
                <%= enum_fields
                    .map { |field_name, field_value| "#{field_name} = #{field_value}" }
                    .join(",\n" + '    ' * 4)
                %>

            };
<%          end %>

<%          Codegen.pgn_fields_to_cxx(pgn).each do |field, field_type, field_name| %>
            <%= field_type %> <%= field_name %>;
<%          end %>
        };
<%      end %>
    }
}

#endif
